CREATE DATABASE [CH_LKDT]
USE CH_LKDT
-- Tao bang phan loai
CREATE TABLE [PHANLOAI]
(
	MALOAI VARCHAR(5) PRIMARY KEY,
	TENLOAI  VARCHAR(50)
)
--Tao bang Nha cung cap
CREATE TABLE [NHACC]
(
	MANCC CHAR(5) PRIMARY KEY,
	TENNCC VARCHAR(50),
	DIACHI VARCHAR(50),
	DIENTHOAI VARCHAR(20) DEFAULT 'Chua co'
)
--Tao bang Khach hang
CREATE TABLE [KHACHHANG]
(
	MAKH CHAR(5) PRIMARY KEY,
	TENKH VARCHAR(50),
	DIACHI VARCHAR(50),
	DIENTHOAI VARCHAR(20) DEFAULT 'Chua co'
)
--Tao bang Hang hoa
CREATE TABLE [HANGHOA]
(
	MAHH CHAR(5) PRIMARY KEY,
	TENHH VARCHAR(50),
	DVT VARCHAR(10) DEFAULT '',
	MALOAI VARCHAR(5),
)
--Tao bang Bao gia
CREATE TABLE [BAOGIA]
(
	MANCC CHAR(5),
	MAHH CHAR(5),
	GIABAN MONEY,
	CONSTRAINT PRK_BAOGIA PRIMARY KEY(MANCC,MAHH),
	CONSTRAINT CHK_BAOGIA CHECK (GIABAN>0)
)
--Tao bang Cung cap
CREATE TABLE [CUNGCAP]
(
	MANCC CHAR(5),
	MAHH CHAR(5),
	NGAY DATE,
	SOLUONG INT
	CONSTRAINT PRK_CUNGCAP PRIMARY KEY (MANCC,MAHH),
	CONSTRAINT CHK_CUNGCAP CHECK (SOLUONG>0)
)
--Tao bang Hoa don ban
CREATE TABLE [HOADONBAN]
(
	MAHD CHAR(5) PRIMARY KEY,
	MAKH CHAR(5),
	MAHH CHAR(5),
	NGAY DATETIME DEFAULT GETDATE(),
	SOLUONG INT,
	DONGIA MONEY
)
--Nhap du lieu cho cac bang
--Nhap dl bang PHANLOAI
INSERT INTO PHANLOAI VALUES ('HDD','O cung')
INSERT INTO PHANLOAI VALUES ('PRINT','May in')
INSERT INTO PHANLOAI VALUES ('MOUSE','Chuot')
INSERT INTO PHANLOAI VALUES ('CPU','Chip')
INSERT INTO PHANLOAI VALUES ('SCR','Man hinh')
--Nhap dl bang Nha cung cap
INSERT INTO NHACC VALUES ('CC001','Dell','Ha Noi','0954214387')
INSERT INTO NHACC VALUES ('CC002','Tosiba','Ha Nam',default)
INSERT INTO NHACC VALUES ('CC003','Vaio','Vinh Phuc','0968120979')
INSERT INTO NHACC VALUES ('CC004','Nenovo','Ha Noi','0978154223')
--Nhap dl bang Khach hang
INSERT INTO KHACHHANG VALUES ('KH001','Tran Tuan Anh','Ha Noi','0978154223')
INSERT INTO KHACHHANG VALUES ('KH002','Hoang Van The','Vinh Phuc','0978154223')
INSERT INTO KHACHHANG VALUES ('KH003','Nguyen Thi Huong','Vinh Phuc','0978154223')
INSERT INTO KHACHHANG VALUES ('KH004','Doan Tien Dat','Ha Noi','0978154223')
INSERT INTO KHACHHANG VALUES ('KH005','Le Hai Yen','Thai Binh','0978154223')
INSERT INTO KHACHHANG VALUES ('KH006','Tran Duc Thu','Thai Binh','0978154223')
INSERT INTO KHACHHANG VALUES ('KH007','Ma Vu Binh','Tuyen Quang','0978154223')
INSERT INTO KHACHHANG VALUES ('KH008','Do Duy Tung','Nam Dinh','0978154223')
--Nhap dl bang Hang hoa
INSERT INTO HANGHOA VALUES ('HH001','HDD 50G','Chiec','HDD')
INSERT INTO HANGHOA VALUES ('HH002','HDD 2T','Chiec','HDD')
INSERT INTO HANGHOA VALUES ('HH003','Man hinh 13inch','Chiec','SCR')
INSERT INTO HANGHOA VALUES ('HH004','Man hinh cam ung','Chiec','SCR')
INSERT INTO HANGHOA VALUES ('HH005','Min hinh cong','Chiec','SCR')
INSERT INTO HANGHOA VALUES ('HH006','CPU core i5','Chiec','CPU')
INSERT INTO HANGHOA VALUES ('HH007','CPU core i7','Chiec','CPU')
INSERT INTO HANGHOA VALUES ('HH008','Canon LBP 2900','Chiec','Print')
INSERT INTO HANGHOA VALUES ('HH009','Canon LBP 151DW','Chiec','Print')
INSERT INTO HANGHOA VALUES ('HH010','Chuot day','Chiec','mouse')
INSERT INTO HANGHOA VALUES ('HH011','Chuot quang','Chiec','mouse')
--Nhap dl bang Bao gia
INSERT INTO BAOGIA VALUES ('CC001','HH001',9000)
INSERT INTO BAOGIA VALUES ('CC001','HH002',7000)
INSERT INTO BAOGIA VALUES ('CC002','HH003',10000)
INSERT INTO BAOGIA VALUES ('CC002','HH002',8000)
INSERT INTO BAOGIA VALUES ('CC003','HH007',10800)
INSERT INTO BAOGIA VALUES ('CC003','HH006',9000)
INSERT INTO BAOGIA VALUES ('CC004','HH009',2000)
--Nhap dl bang Cung cap
INSERT INTO CUNGCAP VALUES ('CC001','HH001','20190211',30)
INSERT INTO CUNGCAP VALUES ('CC001','HH002','20190219',20)
INSERT INTO CUNGCAP VALUES ('CC002','HH003','20190112',15)
INSERT INTO CUNGCAP VALUES ('CC002','HH002','20190125',21)
INSERT INTO CUNGCAP VALUES ('CC003','HH007','20190212',17)
INSERT INTO CUNGCAP VALUES ('CC003','HH006','20190228',14)
INSERT INTO CUNGCAP VALUES ('CC004','HH009','20190117',23)
--Nhap bang Hoa don ban
INSERT INTO HOADONBAN VALUES ('HD001','KH001','HH001','20200211',1,9200)
INSERT INTO HOADONBAN VALUES ('HD002','KH002','HH001','20200311',2,9200)
INSERT INTO HOADONBAN VALUES ('HD003','KH003','HH006','20200214',1,9400)
INSERT INTO HOADONBAN VALUES ('HD004','KH001','HH002','20200217',1,8200)
INSERT INTO HOADONBAN VALUES ('HD005','KH007','HH006','20200119',3,9300)

